#!/bin/bash

set -e

export SOURCE_DIR=src
export BINARY_DIR=build

declare -a BUILD_OPTIONS

BUILD_OPTIONS=(
		-DCMAKE_BUILD_TYPE=Release
		-DCMAKE_CXX_STANDARD=17
		-DCMAKE_INSTALL_PREFIX=/usr
		-DCMAKE_INSTALL_BINDIR=bin
		-DCMAKE_INSTALL_CMAKEDIR=lib/x86_64-linux-gnu/cmake/ROOT
		-DCMAKE_INSTALL_DATAROOTDIR=share
		-DCMAKE_INSTALL_DATADIR=share/root
		-DCMAKE_INSTALL_DOCDIR=share/doc/root
		-DCMAKE_INSTALL_ELISPDIR=share/emacs/site-lisp
		-DCMAKE_INSTALL_FONTDIR=share/root/fonts
		-DCMAKE_INSTALL_ICONDIR=share/root/icons
		-DCMAKE_INSTALL_INCLUDEDIR=include/ROOT
		-DCMAKE_INSTALL_JSROOTDIR=share/root/js
		-DCMAKE_INSTALL_LIBDIR=lib/x86_64-linux-gnu
		-DCMAKE_INSTALL_MACRODIR=share/root/macros
		-DCMAKE_INSTALL_MANDIR=share/man
		-DCMAKE_INSTALL_OPENUI5DIR=share/root/ui5
		-DCMAKE_INSTALL_PYTHONDIR=lib/python3/dist-packages
		-DCMAKE_INSTALL_SRCDIR=/dev/null
		-DCMAKE_INSTALL_SYSCONFDIR=etc/root
		-DCMAKE_INSTALL_TUTDIR=share/root/tutorials
		-DPYTHON_EXECUTABLE=/usr/bin/python3
		-DCLING_BUILD_PLUGINS=OFF
		-Dsoversion=ON
		-Dgnuinstall=ON
		-Dexceptions=ON
		-Dbuiltin_llvm=ON
		-Dbuiltin_clang=ON
		-Dbuiltin_afterimage=OFF
		-Dbuiltin_cfitsio=OFF
		-Dbuiltin_davix=OFF
		-Dbuiltin_fftw3=OFF
		-Dbuiltin_freetype=OFF
		-Dbuiltin_ftgl=OFF
		-Dbuiltin_gl2ps=OFF
		-Dbuiltin_glew=OFF
		-Dbuiltin_gsl=OFF
		-Dbuiltin_lz4=OFF
		-Dbuiltin_lzma=OFF
		-Dbuiltin_openssl=OFF
		-Dbuiltin_pcre=OFF
		-Dbuiltin_tbb=OFF
		-Dbuiltin_unuran=OFF
		-Dbuiltin_vc=OFF
		-Dbuiltin_vdt=OFF
		-Dbuiltin_veccore=OFF
		-Dbuiltin_xrootd=OFF
		-Dbuiltin_xxhash=OFF
		-Dbuiltin_zlib=OFF
		-Dx11=ON
		-Dalien=OFF
		-Darrow=OFF
		-Dasimage=ON
		-Dccache=ON
		-Dcefweb=OFF
		-Dclad=OFF
		-Dcuda=OFF
		-Dcudnn=OFF
		-Dcxxmodules=OFF
		-Ddavix=ON
		-Ddataframe=ON
		-Ddcache=ON
		-Dfcgi=ON
		-Dfftw3=ON
		-Dfitsio=ON
		-Dfortran=ON
		-Dftgl=ON
		-Dgdml=ON
		-Dgfal=ON
		-Dgl2ps=ON
		-Dgminimal=OFF
		-Dgsl_shared=ON
		-Dgviz=ON
		-Dhttp=ON
		-Dimt=ON
		-Djemalloc=OFF
		-Dmathmore=ON
		-Dmemstat=OFF
		-Dminimal=OFF
		-Dminuit2=ON
		-Dminuit=ON
		-Dmlp=ON
		-Dmonalisa=OFF
		-Dmpi=OFF
		-Dmysql=ON
		-Dodbc=ON
		-Dopengl=ON
		-Doracle=OFF
		-Dpgsql=ON
		-Dpythia6=OFF
		-Dpythia8=ON
		-Dpyroot=ON
		-Dqt5web=OFF
		-Droofit=ON
		-Droot7=ON
		-Drootbench=OFF
		-Droottest=OFF
		-Drpath=OFF
		-Dr=OFF
		-Dshadowpw=ON
		-Dsqlite=ON
		-Dssl=ON
		-Dtcmalloc=OFF
		-Dtesting=OFF
		-Dtmva=ON
		-Dtmva-cpu=ON
		-Dtmva-gpu=OFF
		-Dtmva-pymva=ON
		-Dtmva-rmva=OFF
		-Dunuran=OFF
		-Dvc=OFF
		-Dvmc=OFF
		-Dvdt=OFF
		-Dveccore=OFF
		-Dvecgeom=OFF
		-Dwebgui=ON
		-Dxml=ON
		-Dxrootd=OFF
		-Dxproofd=OFF
		)

mkdir -p ${BINARY_DIR}
cmake -S ${SOURCE_DIR} -B ${BINARY_DIR} ${BUILD_OPTIONS[@]}
